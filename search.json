[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "L‚Äôobjectif de cartiflette est de faciliter la r√©cup√©ration de fonds de carte officiels pour faciliter le travail des cartographes qui d√©sirent associer leurs donn√©es √† des fonds de carte administratifs.\nLe projet a √©t√© initi√© dans le cadre du Programme interminist√©riel 10% qui vise √† favoriser les √©changes entre data scientists de l‚Äôadministration fran√ßaise.\nPlus de d√©tails √† venir"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Documentation projet cartiflette",
    "section": "",
    "text": "data_france = get_france(selectedlevel, \"topojson\", year, drom_rapproches, simplification_percent)\nbutton_france = html`\n  ${download_button(\n    create_url_france(selectedlevel, format, year, drom_rapproches, simplification_percent)\n  )}\n`\ndepartement_shape = get_departement(\n      departement,\n      arrondissement ? \"COMMUNE_ARRONDISSEMENT\" : \"COMMUNE\",\n      \"topojson\",\n      year\n    )\navailableHeight = window.innerHeight\nscreenHeight = 0.9*(availableHeight - document.getElementById(\"quarto-header\").offsetHeight)\navailableWidth = window.innerWidth\nmapWidth = (width &gt; 400) ? 0.4*width : 0.95*width \nmapHeight = (width &gt; 400) ? 0.85*screenHeight : 0.5*screenHeight\nsmallScreen = 500\n// Projection Lambert 93 (EPSG: 2154)\nl93 = \"+proj=lcc +lat_0=46.5 +lon_0=3 +lat_1=49 +lat_2=44 +x_0=700000 +y_0=6600000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs +type=crs\"\ntopohelper = import(\"https://cdn.jsdelivr.net/npm/topohelper@0.4.3/+esm\")\nimport {download_vectorfile} from \"@linogaliana/cartiflette-js\"\nimport {\n  button, url_file_available,\n  get_france, get_departement, liste_departements,\n  get_multiple_departement, create_url_departement, create_url_france,\n  to_single_geojson} from \"@linogaliana/cartiflette-js\"\nimport {create_projection2154, map_multiple_2154, map_multiple_4326, make_map, print_program_france, print_program_departement_single} from \"@linogaliana/cartiflette-doc-utils\"\nimport {\n  download_button\n  } from \"@linogaliana/cartiflette-demo\"\nviewof year = Inputs.select([\"2022\", \"2021\"], {label: \"Ann√©e de la g√©ographie de r√©f√©rence\"})\nviewof drom_rapproches = Inputs.toggle({label: \"Rapprocher les DROM ?\", value: true})\nviewof selectedlevel = Inputs.select(['DEPARTEMENT', 'REGION', 'BASSIN_VIE'], {label: \"Zonage d√©sir√©:\"})\nviewof format = Inputs.select(\n  [\"topojson\", \"geojson\"],\n  {label: \"Format d√©sir√©:\"})\nviewof simplification_percent = Inputs.range([0, 50], {step: 50, value: 50, label: \"Degr√© de simplification (%)\"})\nviewof arrondissement = Inputs.toggle({label: \"Arrondissement dans les grandes villes ?\"})\nlevel_arrondissement = arrondissement ? \"COMMUNE_ARRONDISSEMENT\" : \"COMMUNE\"\nviewof departement = Inputs.select(liste_departements, {label: \"D√©partement √† repr√©senter\"})\nviewof simplification_percent_departement = Inputs.bind(\n  Inputs.range([0, 50], {step: 50, value: 50, label: \"Degr√© de simplification (%)\"}),\n  viewof simplification_percent\n  )"
  },
  {
    "objectID": "index.html#r√©cup√©rer-un-fonds-de-carte-france-enti√®re",
    "href": "index.html#r√©cup√©rer-un-fonds-de-carte-france-enti√®re",
    "title": "Documentation projet cartiflette",
    "section": "R√©cup√©rer un fonds de carte France enti√®re",
    "text": "R√©cup√©rer un fonds de carte France enti√®re\n\nhtml`&lt;div&gt;${grid}&lt;/div&gt;`"
  },
  {
    "objectID": "index.html#r√©cup√©rer-un-fonds-de-carte-sur-une-emprise-limit√©e",
    "href": "index.html#r√©cup√©rer-un-fonds-de-carte-sur-une-emprise-limit√©e",
    "title": "Documentation projet cartiflette",
    "section": "R√©cup√©rer un fonds de carte sur une emprise limit√©e",
    "text": "R√©cup√©rer un fonds de carte sur une emprise limit√©e\n\n// Source: https://observablehq.com/@mbostock/dashboard\ngrid = {\n\n    let grid ;\n\n    if (availableWidth&gt;smallScreen){\n        grid = html`\n        &lt;div style=\"\n            background: #fff;\n            margin: 0;\n            border: none;\n            display: grid;\n            width: ${availableWidth};\n            grid-template-areas: \n                'selectors map choice-code'\n                'selectors map code'\n                'selectors map code'\n                'selectors map code'\n                'download map code';\n            grid-template-columns: 30% 40% 30%;\n            grid-gap: 10px;\n            \"&gt;\n            \n            &lt;div name=\"selectors\" style=\"grid-area: selectors; position: relative;\"&gt;\n                ${viewof year}\n                ${viewof selectedlevel}\n                ${viewof format}\n                ${viewof simplification_percent}\n                ${viewof drom_rapproches}\n            &lt;/div&gt;\n            \n            &lt;div name=\"map\" style=\"grid-area: map; position: relative;\"&gt;\n                ${map_france}\n            &lt;/div&gt;\n\n            &lt;div name=\"choice-code\" style=\"grid-area: choice-code; position: relative;\"&gt;\n                ${viewof langage_requete}\n            &lt;/div&gt;\n\n\n            &lt;div name=\"code\" style=\"grid-area: code; position: relative;\"&gt;\n                Comment faire en &lt;code&gt;${langage}&lt;/code&gt; ${logo[langage.toLowerCase()]}\n                ${print_program_france(langage, selectedlevel, format, year, drom_rapproches, simplification_percent)}\n            &lt;/div&gt;\n\n            &lt;div name=\"download-button\" style=\"grid-area: download; position: relative;\"&gt;\n                ${button_france}\n            &lt;/div&gt;\n\n        &lt;/div&gt;\n        `\n        return grid\n    }\n\n    grid = html`\n    &lt;div style=\"\n        background: #fff;\n        margin: 0;\n        border: none;\n        display: grid;\n        width: ${availableWidth};\n        grid-template-areas: \n            'selectors'\n            'map'\n            'download'\n            'choice-code'\n            'code';\n        grid-template-rows: auto auto auto auto;\n        grid-gap: 10px;\n        \"&gt;\n\n        &lt;div name=\"selectors\" style=\"grid-area: selectors; position: relative;\"&gt;\n            ${viewof year}\n            ${viewof selectedlevel}\n            ${viewof format}\n            ${viewof simplification_percent}\n            ${viewof drom_rapproches}\n        &lt;/div&gt;\n        \n        &lt;div name=\"map\" style=\"grid-area: map; position: relative;\"&gt;\n            ${map_france}\n        &lt;/div&gt;\n\n        &lt;div name=\"download-button\" style=\"grid-area: download; position: relative;\"&gt;\n            ${button_france}\n        &lt;/div&gt;\n\n        &lt;div name=\"choice-code\" style=\"grid-area: choice-code; position: relative;\"&gt;\n            ${viewof langage_requete}\n        &lt;/div&gt;\n\n        &lt;div name=\"code\" style=\"grid-area: code; position: relative;\"&gt;\n            Comment faire en &lt;code&gt;${langage}&lt;/code&gt; ${logo[langage.toLowerCase()]}\n            ${print_program_france(langage, selectedlevel, format, year, drom_rapproches, simplification_percent)}\n        &lt;/div&gt;\n\n    &lt;/div&gt;\n    `\n    return grid\n}\n\n\n\n\n\n\n\nmap_france = topohelper\n  .from(\n    await data_france\n  )\n  .project({ proj: l93 })\n  .view({\n    tooltip: true,\n    zoom: true,\n    size: [\n        availableWidth &gt; smallScreen ? availableWidth*0.4 : availableWidth*0.95, availableHeight * 0.6\n    ]})\n\n\n\n\n\n\n\nlangage = langage_requete == null ? \"Python\" : langage_requete\n\n\n\n\n\n\n\nviewof langage_requete = Inputs.radio(\n  [\"Python\", \"Javascript\" ,\"R\"], {label: \"Langage de programmation pour les exemples de code\"},\n  {value: null, format: x =&gt; x ?? \"Python\"}\n)\n\n\n\n\n\n\n\nlogo = ({\n  \"python\": `${fab`python`}`,\n  \"javascript\": `${fab`js`}`,\n  \"r\": `${fab`r-project`}`\n})\n\n\n\n\n\n\n\nimport { style as faStyle, fa, fab, fas } from \"@airbornemint/fontawesome\""
  },
  {
    "objectID": "index_old.html",
    "href": "index_old.html",
    "title": "Documentation projet cartiflette",
    "section": "",
    "text": "md`# Cartes de France avec [\\`cartiflette\\`](https://github.com/InseeFrLab/cartiflette) üßÄ &lt;img src=\"https://raw.githubusercontent.com/InseeFrLab/cartiflette/main/cartiflette.png\" align=\"right\" height=\"119\" /&gt;\n${button}`\nUn exercice pour illustrer la simplicit√© d‚Äôusage des fonds de carte du projet cartiflette1\nviewof langage_requete = Inputs.radio(\n  [\"Python\", \"Javascript\" ,\"R\"], {label: \"Langage de programmation pour les exemples de code\"},\n  {value: null, format: x =&gt; x ?? \"Python\"}\n)"
  },
  {
    "objectID": "index_old.html#r√©cup√©rer-des-donn√©es-france-enti√®re",
    "href": "index_old.html#r√©cup√©rer-des-donn√©es-france-enti√®re",
    "title": "Documentation projet cartiflette",
    "section": "R√©cup√©rer des donn√©es France enti√®re",
    "text": "R√©cup√©rer des donn√©es France enti√®re\nLes premi√®res donn√©es qu‚Äôil est possible de r√©cup√©rer avec l‚Äôoutil cartiflette sont des donn√©es France enti√®re.\nCe n‚Äôest pas l√† o√π le package apporte le plus de fonctionnalit√©s novatrices mais cela peut √™tre pratique pour r√©cup√©rer facilement les contours administratifs (voir üëá pour ceux disponibles).\nIl existe deux approches pour cela:\n\nUtiliser la fonction get_vectorfile_ign qui va r√©cup√©rer directement les donn√©es depuis le site de l‚ÄôIGN. Comme il est n√©cessaire de t√©l√©charger les donn√©es France enti√®re pour cela et que le format utilis√© est le shapefile, les donn√©es sont volumineuses (de l‚Äôordre de 500Mo). Cela peut donc demander un certain temps ;\nUtiliser l‚Äôune des fonctions de cartiflette. Ce cas est d√©montr√© ci-dessous\n\n\n// Source: https://observablehq.com/@mbostock/dashboard\ngrid = width &gt; 500\n        ? html`&lt;div style=\"\n            background: #fff;\n            margin: 0;\n            max-width: 100%; \n            border: none ;\n            display: grid;\n            width: ${width};\n            grid-template-areas: \n              'd a'\n              'b b'\n              'c c'\n              'e e';\n            grid-gap: 10px;\n          \"&gt;\n          \n            &lt;div name=\"d\" style=\"grid-area: d; position: relative;\"&gt;${viewof year}&lt;/div&gt;\n            &lt;div name=\"a\" style=\"grid-area: a; position: relative;\"&gt;${viewof selectedlevel}&lt;/div&gt;\n            &lt;div name=\"b\" style=\"grid-area: b; position: relative;\"&gt;${viewof format}&lt;/div&gt;\n            &lt;div name=\"c\" style=\"grid-area: c; position: relative;\"&gt;${map_france}&lt;/div&gt;\n            &lt;div name=\"e\" style=\"grid-area: e; position: relative;\"&gt;${button_france}&lt;/div&gt;\n          &lt;/div&gt;`\n  : html`&lt;div style=\"\n            background: #fff;\n            margin: 0;\n            border: none ;\n            display: grid;\n            max-width: 100%; \n            width: ${width};\n            grid-template-areas: \n              'd d'\n              'a a'\n              'b b'\n              'c c'\n              'e e';\n            grid-gap: 10px;\n          \"&gt;\n          \n            &lt;div name=\"d\" style=\"grid-area: d; position: relative;\"&gt;${viewof year}&lt;/div&gt;\n            &lt;div name=\"a\" style=\"grid-area: a; position: relative;\"&gt;${viewof selectedlevel}&lt;/div&gt;\n            &lt;div name=\"b\" style=\"grid-area: b; position: relative;\"&gt;${viewof format}&lt;/div&gt;\n            &lt;div name=\"c\" style=\"grid-area: c; position: relative;\"&gt;${map_france}&lt;/div&gt;\n            &lt;div name=\"e\" style=\"grid-area: e; position: relative;\"&gt;${button_france}&lt;/div&gt;\n          &lt;/div&gt;`\n\n\n\n\n\n\n\nmd` Comment faire ceci de mani√®re reproductible avec ${logo[langage.toLowerCase()]} ?`\n\n\n\n\n\n\n\nmd`\n${print_program_france(langage, selectedlevel, format, year)}\n`"
  },
  {
    "objectID": "index_old.html#s√©lectionner-un-d√©partement-facilement",
    "href": "index_old.html#s√©lectionner-un-d√©partement-facilement",
    "title": "Documentation projet cartiflette",
    "section": "S√©lectionner un d√©partement facilement",
    "text": "S√©lectionner un d√©partement facilement\nL‚Äôint√©r√™t principal du projet cartiflette est la mise √† disposition facilit√©e de fonds de carte adapt√©s aux besoins du data scientist ou du g√©omaticien.\n\nmd`\nEn premier lieu, il est ais√© de r√©cup√©rer directement un niveau g√©ographique donn√© (ici toutes les communes du d√©partement ${departement})\n`\n\n\n\n\n\n\n\n// Source: https://observablehq.com/@mbostock/dashboard\ngrid_departement = width &gt; 500\n        ? html`&lt;div style=\"\n            background: #fff;\n            margin: 0;\n            border: none ;\n            display: grid;\n            width: ${width};\n            grid-template-areas: \n              'a d'\n              'c c'\n              'b b';\n            grid-gap: 10px;\n          \"&gt;\n            &lt;div name=\"a\" style=\"grid-area: a; position: relative;\"&gt;${viewof departement}&lt;/div&gt;\n            &lt;div name=\"d\" style=\"grid-area: d; position: relative;\"&gt;${viewof arrondissement}&lt;/div&gt;\n            &lt;div name=\"b\" style=\"grid-area: b; position: relative;\"&gt;${button_departement}&lt;/div&gt;\n            &lt;div name=\"c\" style=\"grid-area: c; position: relative;\"&gt;${map_departement}&lt;/div&gt;\n          &lt;/div&gt;`\n  : html`&lt;div style=\"\n            background: #fff;\n            margin: 0;\n            border: none ;\n            display: grid;\n            width: ${width};\n            grid-template-areas: \n              'a a'\n              'd d'\n              'c c'\n              'b b';\n            grid-gap: 10px;\n          \"&gt;\n            &lt;div name=\"a\" style=\"grid-area: a; position: relative;\"&gt;${viewof departement}&lt;/div&gt;\n            &lt;div name=\"d\" style=\"grid-area: d; position: relative;\"&gt;${viewof arrondissement}&lt;/div&gt;\n            &lt;div name=\"c\" style=\"grid-area: c; position: relative;\"&gt;${map_departement}&lt;/div&gt;          \n            &lt;div name=\"b\" style=\"grid-area: b; position: relative;\"&gt;${button_departement}&lt;/div&gt;\n          &lt;/div&gt;`\n\n\n\n\n\n\n\nmd` Comment faire ceci de mani√®re reproductible avec ${logo[langage.toLowerCase()]} ?`\n\n\n\n\n\n\n\nmd`\n${print_program_departement_single(langage, departement, level_arrondissement, format, year)}\n`\n\n\n\n\n\n\n\nviewof departement = Inputs.select(liste_departements, {label: \"D√©partement √† repr√©senter\"})\n\n\n\n\n\n\n\nviewof selectedlevel = Inputs.select(['REGION','DEPARTEMENT'], {label: \"Zonage administratif d√©sir√©:\"})\n\n\n\n\n\n\n\nviewof arrondissement = Inputs.toggle({label: \"Arrondissement dans les grandes villes ?\"})\nlevel_arrondissement = arrondissement ? \"COMMUNE_ARRONDISSEMENT\" : \"COMMUNE\"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nviewof year = Inputs.select([\"2022\", \"2021\"], {label: \"Ann√©e de la g√©ographie de r√©f√©rence\"})\n\n\n\n\n\n\n\nviewof format = Inputs.select(\n  [\"topojson\"],\n  //['topojson','geojson'],\n  {label: \"Format d√©sir√©:\"})\n\n\n\n\n\n\n\nmap_france = topohelper\n  .from(\n    await data_departement\n  )\n  .project({ proj: l93 })\n  .view({ tooltip: true, zoom: true, size: [width, width * 0.7]})\n\n\n\n\n\n\n\nmap_departement = topohelper\n  // direct call inside from() to avoid a deep copy\n  .from(\n    await departement_shape\n  )\n  .project({ proj: l93 })\n  .view({ tooltip: true, zoom: true, size: [width, width * 0.7]})\n\n\n\n\n\n\n\ndata_departement = get_france(selectedlevel, format, year)\n\n\n\n\n\n\n\ndepartement_shape = get_departement(\n      departement,\n      arrondissement ? \"COMMUNE_ARRONDISSEMENT\" : \"COMMUNE\",\n      \"topojson\",\n      year\n    )\n\n\n\n\n\n\n\nimport {download_vectorfile} from \"@linogaliana/cartiflette-js\"\n\n\n\n\n\n\n\nimport {\n  button, url_file_available,\n  get_france, get_departement, liste_departements,\n  get_multiple_departement, create_url_departement, create_url_france,\n  to_single_geojson} from \"@linogaliana/cartiflette-js\"\n\n\n\n\n\n\n\nimport {create_projection2154, map_multiple_2154, map_multiple_4326, make_map, print_program_france, print_program_departement_single} from \"@linogaliana/cartiflette-doc-utils\"\n\n\n\n\n\n\n\nlangage = langage_requete == null ? \"Python\" : langage_requete\nlogo = ({\n  \"python\": html`&lt;i class=\"fa-brands fa-python\"&gt;&lt;/i&gt;`,\n  \"javascript\": html`&lt;i class=\"fa-brands fa-js\"&gt;&lt;/i&gt;`,\n  \"r\": html`&lt;i class=\"fa-brands fa-r-project\"&gt;&lt;/i&gt;`\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  download_button\n  } from \"@linogaliana/cartiflette-demo\"\n\n\n\n\n\n\n\nbutton_france = html`\n  ${download_button(\n    create_url_france(selectedlevel, format, year)\n  )}\n`\n\n\n\n\n\n\n\nbutton_departement = html`\n  ${download_button(\n    create_url_departement(departement, \"COMMUNE\", format, year)\n  )}\n`\n\n\n\n\n\n\n\n// Projection Lambert 93 (EPSG: 2154)\nl93 = \"+proj=lcc +lat_0=46.5 +lon_0=3 +lat_1=49 +lat_2=44 +x_0=700000 +y_0=6600000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs +type=crs\"\n\n\n\n\n\n\n\ntopohelper = import(\"https://cdn.jsdelivr.net/npm/topohelper@0.4.3/+esm\")"
  },
  {
    "objectID": "index_old.html#footnotes",
    "href": "index_old.html#footnotes",
    "title": "Documentation projet cartiflette",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nUn grand merci √† Thomas Ansart pour l‚Äôaide apport√©e sur la visualisation des cartes avec Javascript et la librairie Topohelper‚Ü©Ô∏é"
  }
]